<!DOCTYPE html>
<html lang="hy">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Aria Network</title>
  <style>
    /* Reset and base styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      user-select: none; /* Prevent text selection */
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }

    body {
      font-family: 'Arial', sans-serif;
      background-color: #f9f9f9;
      color: #1a1a1a;
      line-height: 1.6;
      position: relative;
    }

    /* Font size utility classes */
    .text-xs {
      font-size: 12px; /* 0.75rem */
    }

    .text-sm {
      font-size: 14px; /* 0.875rem */
    }

    .text-base {
      font-size: 16px; /* 1rem */
    }

    .text-lg {
      font-size: 16px; /* 1.125rem */
    }

    .text-xl {
      font-size: 18px; /* 1.25rem */
    }

    .text-2xl {
      font-size: 24px; /* 1.5rem */
    }

    .text-3xl {
      font-size: 24px; /* 1.875rem */
    }

    .text-4xl {
      font-size: 26px; /* 2.25rem */
    }

    .text-5xl {
      font-size: 28px; /* 3rem */
    }

    .text-6xl {
      font-size: 60px; /* 3.75rem */
    }

    /* Font weight utility classes */
    .font-light {
      font-weight: 300;
    }

    .font-normal {
      font-weight: 400;
    }

    .font-medium {
      font-weight: 500;
    }

    .font-semibold {
      font-weight: 600;
    }

    .font-bold {
      font-weight: 700;
    }

    .font-extrabold {
      font-weight: 800;
    }

    /* Line height utility classes */
    .leading-none {
      line-height: 1;
    }

    .leading-tight {
      line-height: 1.25;
    }

    .leading-snug {
      line-height: 1.375;
    }

    .leading-normal {
      line-height: 1.5;
    }

    .leading-relaxed {
      line-height: 1.625;
    }

    .leading-loose {
      line-height: 2;
    }

    /* Layout */
    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .flex {
      display: flex;
    }

    .flex-col {
      flex-direction: column;
    }

    .min-h-screen {
      min-height: 100vh;
    }

    .flex-grow {
      flex-grow: 1;
    }

    .items-center {
      align-items: center;
    }

    .justify-between {
      justify-content: space-between;
    }

    .justify-center {
      justify-content: center;
    }

    .text-center {
      text-align: center;
    }

    .space-x-2 > * + * {
      margin-left: 8px; /* 0.5rem */
    }

    .space-x-4 > * + * {
      margin-left: 16px; /* 1rem */
    }

    .mt-8 {
      margin-top: 32px; /* 2rem */
    }

    .mb-8 {
      margin-bottom: 32px; /* 2rem */
    }

    .mb-4 {
      margin-bottom: 16px; /* 1rem */
    }

    .p-4 {
      padding: 16px; /* 1rem */
    }

    .py-4 {
      padding-top: 16px; /* 1rem */
      padding-bottom: 16px; /* 1rem */
    }

    .py-6 {
      padding-top: 24px; /* 1.5rem */
      padding-bottom: 24px; /* 1.5rem */
    }

    .px-4 {
      padding-left: 16px; /* 1rem */
      padding-right: 16px; /* 1rem */
    }

    .pb-2 {
      padding-bottom: 8px; /* 0.5rem */
    }

    .pt-4 {
      padding-top: 16px; /* 1rem */
    }

    .pb-4 {
      padding-bottom: 16px; /* 1rem */
    }

    .w-full {
      width: 100%;
    }

    .max-w-4xl {
      max-width: 896px; /* 56rem */
    }

    .mx-auto {
      margin-left: auto;
      margin-right: auto;
    }

    .gap-2 {
      gap: 8px; /* 0.5rem */
    }

    /* Typography */
    .text-gray-700 {
      color: #4b5563;
    }

    .text-gray-900 {
      color: #111827;
    }

    .hover\:text-gray-900:hover {
      color: #111827;
    }

    /* Header */
    header {
      width: 100%;
      background-color: white;
      border-bottom: 1px solid #e5e7eb;
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .header-left {
      flex: 1;
    }

    .header-center {
      flex: 2;
      display: flex;
      justify-content: center;
    }

    .header-right {
      flex: 1;
      display: flex;
      justify-content: flex-end;
    }

    nav ul {
      display: flex;
      list-style: none;
    }

    nav a {
      text-decoration: none;
      color: #4b5563;
    }

    nav a:hover {
      color: #111827;
    }

    /* Footer */
    footer {
      width: 100%;
      background-color: white;
      border-top: 1px solid #e5e7eb;
      padding: 24px 0; /* 1.5rem 0 */
      margin-top: 32px; /* 2rem */
    }

    /* Card */
    .card {
      width: 100%;
      overflow: hidden;
      background-color: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px; /* 0.5rem */
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      transition: transform 0.3s ease;
      margin-bottom: 32px; /* 2rem */
    }

    .card.fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 100;
      border-radius: 0;
      overflow-y: auto;
    }

    .card-header {
      padding: 24px 24px 8px 24px; /* 1.5rem 1.5rem 0.5rem 1.5rem */
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card-title-container {
      flex: 1;
    }

    .card-title {
      font-size: 20px; /* 1.25rem */
      font-weight: 700;
      margin-bottom: 0;
    }

    .card-image-container {
      position: relative;
      width: 100%;
      padding: 0 20px; /* Added left and right padding of 20px */
      overflow: hidden;
      margin-top: 8px; /* 0.5rem */
    }

    .card-image {
      width: 100%;
      height: 600px; /* Fixed height for 1200x600 aspect ratio on desktop */
      max-width: 1200px; /* Max width of 1200px */
      margin: 0 auto; /* Center the image */
      object-fit: cover;
      pointer-events: none; /* Prevent image interactions */
      display: block;
      border-radius: 7px; /* Added border-radius of 7px */
    }

    .card-content {
      padding: 0;
    }

    .card-content-expanded {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease, opacity 0.3s ease;
      opacity: 0;
      padding: 0 24px;
    }

    .card-content-expanded.expanded {
      max-height: 2000px;
      opacity: 1;
      padding: 24px;
    }

    .card-content-title {
      font-size: 18px; /* 1.125rem */
      font-weight: 600;
      margin-bottom: 16px; /* 1rem */
      text-align: center;
    }

    .card-paragraph {
      margin-bottom: 16px; /* 1rem */
    }

    .card-content img {
      width: calc(100% - 40px); /* Account for left and right padding */
      height: 600px; /* Fixed height for 1200x600 aspect ratio on desktop */
      max-width: 1200px; /* Max width of 1200px */
      margin: 16px auto; /* 1rem auto */ /* Center the image */
      padding: 0 20px; /* Added left and right padding of 20px */
      object-fit: cover;
      pointer-events: none; /* Prevent image interactions */
      border-radius: 7px; /* Added border-radius of 7px */
      display: block;
    }

    .card-footer {
      display: flex;
      justify-content: center;
      padding: 16px 0; /* 1rem 0 */
    }

    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 6px; /* 0.375rem */
      font-weight: 500;
      padding: 8px 16px; /* 0.5rem 1rem */
      cursor: pointer;
      transition: background-color 0.2s, color 0.2s, border-color 0.2s, box-shadow 0.2s;
    }

    .btn-outline {
      background-color: transparent;
      border: 1px solid #e5e7eb;
      color: #111827;
    }

    .btn-outline:hover {
      background-color: #f9fafb;
      border-color: #d1d5db;
    }

    .btn-primary {
      background-color: #111827;
      color: white;
      border: 1px solid #111827;
    }

    .btn-primary:hover {
      background-color: #1f2937;
    }

    .btn-icon {
      width: 40px; /* 2.5rem */
      height: 40px; /* 2.5rem */
      padding: 0;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .fullscreen-btn {
      background: none;
      border: none;
      cursor: pointer;
      color: #4b5563;
      margin-left: 10px;
    }

    .fullscreen-btn:hover {
      color: #111827;
    }

    /* Mobile exit fullscreen button */
    .mobile-exit-fullscreen {
      position: fixed;
      top: 15px;
      right: 15px;
      z-index: 1000;
      background-color: rgba(255, 255, 255, 0.9);
      border: 1px solid #e5e7eb;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: none;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      cursor: pointer;
    }

    .mobile-exit-fullscreen svg {
      width: 24px;
      height: 24px;
      color: #111827;
    }

    /* Pagination */
    .pagination {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 32px; /* 2rem */
    }

    .pagination-btn {
      width: 40px; /* 2.5rem */
      height: 40px; /* 2.5rem */
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 6px; /* 0.375rem */
      margin: 0 4px; /* 0 0.25rem */
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s, color 0.2s, border-color 0.2s;
    }

    .pagination-btn-outline {
      background-color: transparent;
      border: 1px solid #e5e7eb;
      color: #111827;
    }

    .pagination-btn-outline:hover {
      background-color: #f9fafb;
      border-color: #d1d5db;
    }

    .pagination-btn-active {
      background-color: #111827;
      color: white;
      border: 1px solid #111827;
    }

    .pagination-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Form elements */
    input, select, textarea {
      background-color: white;
      color: black;
      border: 1px solid #d1d5db;
      border-radius: 6px; /* 0.375rem */
      padding: 8px 12px; /* 0.5rem 0.75rem */
      width: 100%;
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
      user-select: text; /* Allow text selection in inputs */
      -webkit-user-select: text;
      -moz-user-select: text;
      -ms-user-select: text;
      font-size: 16px; /* Prevent iOS zoom */
    }

    input:focus, select:focus, textarea:focus {
      border-color: transparent;
      box-shadow: 0 0 0 2px #111827;
    }

    /* Search */
    .search-container {
      position: relative;
      width: 100%;
      max-width: 250px;
      display: flex;
      align-items: center;
    }

    .search-input {
      padding-right: 40px; /* 2.5rem */
    }

    .search-icon {
      position: absolute;
      right: 12px; /* 0.75rem */
      display: flex;
      align-items: center;
      color: #6b7280;
    }

    /* Updates page */
    .update-card {
      background-color: white;
      border-radius: 8px; /* 0.5rem */
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      padding: 24px; /* 1.5rem */
      margin-bottom: 24px; /* 1.5rem */
      position: relative;
    }

    .update-title {
      font-size: 20px; /* 1.25rem */
      font-weight: 600;
      margin-bottom: 8px; /* 0.5rem */
    }

    .update-date {
      color: #6b7280;
      font-size: 14px; /* 0.875rem */
      margin-bottom: 16px; /* 1rem */
    }

    .update-content {
      color: #4b5563;
    }

    /* New label for updates */
    .new-label {
      position: absolute;
      top: 12px; /* 0.75rem */
      right: 12px; /* 0.75rem */
      background-color: #10b981;
      color: white;
      font-size: 12px; /* 0.75rem */
      font-weight: 600;
      padding: 4px 8px; /* 0.25rem 0.5rem */
      border-radius: 4px; /* 0.25rem */
      text-transform: uppercase;
    }

    /* Bell icon and animation */
    .bell-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .bell-icon svg {
      width: 20px;
      height: 20px;
    }

    .bell-icon.animate svg {
      animation: bellRing 1s ease infinite;
      transform-origin: top center;
    }

    @keyframes bellRing {
      0%, 100% {
        transform: rotate(0);
      }
      20%, 60% {
        transform: rotate(-10deg);
      }
      40%, 80% {
        transform: rotate(10deg);
      }
    }

    /* Remove underline from h1 */
    h1.no-underline {
      border-bottom: none;
    }

    /* Page content */
    .page-content {
      display: none;
    }

    .page-content.active {
      display: block;
    }

    /* Responsive */
    @media (min-width: 768px) {
      .md\:p-8 {
        padding: 32px; /* 2rem */
      }
      
      .md\:text-xs {
        font-size: 12px; /* 0.75rem */
      }
      
      .md\:text-sm {
        font-size: 14px; /* 0.875rem */
      }
      
      .md\:text-base {
        font-size: 16px; /* 1rem */
      }
      
      .md\:text-lg {
        font-size: 16px; /* 1.125rem */
      }
      
      .md\:text-xl {
        font-size: 18px; /* 1.25rem */
      }
      
      .md\:text-2xl {
        font-size: 24px; /* 1.5rem */
      }
      
      .md\:text-3xl {
        font-size: 24px; /* 1.875rem */
      }
      
      .md\:text-4xl {
        font-size: 26px; /* 2.25rem */
      }
      
      .md\:text-5xl {
        font-size: 28px; /* 3rem */
      }
      
      .md\:text-6xl {
        font-size: 60px; /* 3.75rem */
      }
    }

    @media (min-width: 1024px) {
      .lg\:p-12 {
        padding: 48px; /* 3rem */
      }
      
      .lg\:text-xs {
        font-size: 12px; /* 0.75rem */
      }
      
      .lg\:text-sm {
        font-size: 14px; /* 0.875rem */
      }
      
      .lg\:text-base {
        font-size: 16px; /* 1rem */
      }
      
      .lg\:text-lg {
        font-size: 16px; /* 1.125rem */
      }
      
      .lg\:text-xl {
        font-size: 18px; /* 1.25rem */
      }
      
      .lg\:text-2xl {
        font-size: 24px; /* 1.5rem */
      }
      
      .lg\:text-3xl {
        font-size: 24px; /* 1.875rem */
      }
      
      .lg\:text-4xl {
        font-size: 26px; /* 2.25rem */
      }
      
      .lg\:text-5xl {
        font-size: 28px; /* 3rem */
      }
      
      .lg\:text-6xl {
        font-size: 60px; /* 3.75rem */
      }
    }

    @media (max-width: 640px) {
      .sm\:text-xs {
        font-size: 12px; /* 0.75rem */
      }
      
      .sm\:text-sm {
        font-size: 14px; /* 0.875rem */
      }
      
      .sm\:text-base {
        font-size: 16px; /* 1rem */
      }
      
      .sm\:text-lg {
        font-size: 16px; /* 1.125rem */
      }
      
      .sm\:text-xl {
        font-size: 18px; /* 1.25rem */
      }
      
      .sm\:text-2xl {
        font-size: 24px; /* 1.5rem */
      }
      
      .sm\:text-3xl {
        font-size: 24px; /* 1.875rem */
      }
      
      .text-3xl {
        font-size: 24px; /* 1.5rem */
      }
      
      .header-content {
        flex-direction: column;
        align-items: center;
      }
      
      .header-left, .header-center, .header-right {
        width: 100%;
        flex: none;
        margin-bottom: 8px; /* 0.5rem */
        display: flex;
        justify-content: center;
      }
      
      .search-container {
        max-width: 100%;
        margin: 8px 0; /* 0.5rem 0 */
      }
      
      nav {
        margin-top: 8px; /* 0.5rem */
      }
      
      /* Mobile image size */
      .card-image {
        height: 300px; /* 360x300px for mobile */
        max-width: 360px;
      }
      
      .card-content img {
        height: 300px; /* 360x300px for mobile */
        max-width: 360px;
      }
    }
  </style>
</head>
<body>
  <!-- Mobile exit fullscreen button -->
  <div id="mobile-exit-fullscreen" class="mobile-exit-fullscreen">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>
    </svg>
  </div>

  <div class="flex flex-col min-h-screen">
    <!-- Header -->
    <header>
      <div class="container mx-auto px-4 py-4">
        <div class="header-content">
          <div class="header-left">
            <span class="text-xl font-bold">Aria Network</span>
          </div>
          
          <div class="header-center">
            <div class="search-container" id="search-container">
              <input type="text" id="search-input" class="search-input" placeholder="Որոնել ըստ վերնագրի...">
              <span class="search-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="11" cy="11" r="8"></circle>
                  <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
              </span>
            </div>
          </div>
          
          <div class="header-right">
            <nav>
              <ul class="flex space-x-4">
                <li>
                  <a href="#" id="home-link" class="text-gray-900 font-bold" onclick="showPage('home'); return false;">Գլխավոր</a>
                </li>
                <li>
                  <a href="#" id="updates-link" class="text-gray-700 hover:text-gray-900" onclick="showPage('updates'); return false;">
                    <span class="bell-icon" id="bell-icon">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                      </svg>
                    </span>
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="flex-grow">
      <main class="flex min-h-screen flex-col items-center justify-between p-4 md:p-8 lg:p-12">
        <div class="w-full max-w-4xl mx-auto">
          <!-- Home Page -->
          <div id="home-page" class="page-content active">
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-8 no-underline">Մաղթում ենք հաճելի ընթերցում</h1>
            
            <!-- Card Container -->
            <div id="card-container"></div>
            
            <!-- Pagination -->
            <div class="mt-8">
              <div id="pagination" class="flex items-center justify-center space-x-2"></div>
            </div>
          </div>
          
          <!-- Updates Page -->
          <div id="updates-page" class="page-content">
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-8 no-underline">Վերջին թարմացումներ</h1>
            
            <!-- Updates Container -->
            <div id="updates-container">
              <!-- Updates will be rendered here by JavaScript -->
            </div>
            
            <!-- Updates Pagination -->
            <div class="mt-8">
              <div id="updates-pagination" class="flex items-center justify-center space-x-2"></div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Footer -->
    <footer>
      <div class="container mx-auto px-4 text-center text-gray-700">
        <p class="text-sm md:text-base"> Copyright © 2025 | Aria Network | All rights reserved.</p>
      </div>
    </footer>
  </div>

  <script>
    // Sample data for posts
    const posts = [
      {
        id: 1,
        title: "Շաատ շուտով",
        contentTitle: "Շուտով հասանելի կլինի Aria Network կայքը",
        paragraph1: "Aria Network կայքում կարող եք ընթերցել հայերեն բացատրությամբ՝ Cisco-ի, Ցանցերի, Կիբեռանվտանգության և Սերվերային համակարգերի վերաբերյալ տեղեկատվություն։",
        paragraph2: "Կայքը գտնվում է նախագծման փուլում։",
        paragraph3: "Հայցում ենք Ձեր ներողամտությունը, ուշացման և սպասման համար։",
        paragraph4: "Հարգանքով՝ Aria Development Group",
        image: "https://i.ibb.co/4njNpjN9/444.jpg"
      },
      
{
        id: 1,
        title: "Ինչ է Web Application Firewall-ը",
        contentTitle: "🔰 Web Application Firewall",
        paragraph1: "🎯 Web Application Firewall-ը (WAF) անվտանգության գործիք է, որը զտում, վերահսկում և պաշտպանում է HTTP/HTTPS տրաֆիկը վեբ հավելվածների և վեբ ծառայությունների միջև:",
        paragraph2: "✅ WAF-ը կարող է պաշտպանել վեբ հավելվածները տարբեր հարձակումներից, ինչպիսիք են SQL ներարկումը, XSS (Cross-site scripting), ֆայլերի ներառումը և այլն:",
        paragraph3: "✅ Ի տարբերություն սովորական ցանցային firewall-ի, WAF-ը կենտրոնանում է հատուկ վեբ հավելվածների վրա և կարող է վերլուծել HTTP/HTTPS հաղորդակցությունը ավելի խորը մակարդակում:",
        paragraph4: "⭐ WAF-ը կարող է տեղադրվել որպես ապարատային սարք, սերվերի վրա տեղադրված ծրագրային ապահովում կամ որպես ամպային ծառայություն:",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Network-cables-1.png/1200px-Network-cables-1.png"
      }

    ];

    // Sample data for updates - using Russian date format for the first update
    const updates = [
      {
        id: 1,
        title: "Մոբայլ տարբերակի լիէկրան ռեժիմի թարմացում",
        date: "6 Ապրիլ 2025",
        content: "Թարմացվել է մոբայլ տարբերակի լիէկրան ռեժիմի գործառույթը։",
        timestamp: new Date(2025, 3, 6) // Ապրիլ 6, 2025
      },
      {
        id: 2,
        title: "Թարմացվել է քարտի դիզայնը",
        date: "3 Ապրիլ 2025",
        content: "Քարտերի նոր ընդլայնվող գործառույթը թույլ է տալիս կարդալ բովանդակությունը՝ առանց էջից դուրս գալու:",
        timestamp: new Date(2025, 3, 3) // Ապրիլ 3, 2025
      },
      {
        id: 3,
        title: "Ավելացվել է քարտի լիէկրան գործառույթը",
        date: "1 Ապրիլ 2025",
        content: "Ավելացվել է քարտում լիէկրան գործառույթը, որը թույլ է տալիս ընթերցել լիէկրան ռեժիմով։",
        timestamp: new Date(2025, 3, 1) // Ապրիլ 1, 2025
      },
      {
        id: 4,
        title: "Ավելացվել է որոնման գործառույթը",
        date: "27 Մարտ 2025",
        content: "Այժմ կարող եք որոնել նախընտրելի հրապարակումը ըստ վերնագրի՝ օգտագործելով վերնագրի որոնման տողը:",
        timestamp: new Date(2025, 2, 27) // Մարտ 27, 2025
      },
      {
        id: 5,
        title: "Ավելացվել է բջջային սարքերով ընթերցելու գործառույթը",
        date: "20 Մարտ 2025",
        content: "Այժմ կարող եք ընթերցել ցանկացած բջջային սարքով:",
        timestamp: new Date(2025, 2, 20) // Մարտ 20, 2025
      }
    ];

    // State management
    let currentPage = 1;
    let currentUpdatesPage = 1;
    const postsPerPage = 1;
    const updatesPerPage = 5; // Show 5 updates per page
    const totalPages = Math.ceil(posts.length / postsPerPage);
    const totalUpdatesPages = Math.ceil(updates.length / updatesPerPage);
    let isFullscreen = false;
    let filteredPosts = [...posts];
    let currentCard = null;

    // DOM Elements
    const cardContainer = document.getElementById('card-container');
    const updatesContainer = document.getElementById('updates-container');
    const paginationContainer = document.getElementById('pagination');
    const updatesPaginationContainer = document.getElementById('updates-pagination');
    const searchInput = document.getElementById('search-input');
    const searchContainer = document.getElementById('search-container');
    const homeLink = document.getElementById('home-link');
    const updatesLink = document.getElementById('updates-link');
    const homePage = document.getElementById('home-page');
    const updatesPage = document.getElementById('updates-page');
    const bellIcon = document.getElementById('bell-icon');
    const mobileExitFullscreenBtn = document.getElementById('mobile-exit-fullscreen');

    // Content protection functions
    function initContentProtection() {
      // Prevent context menu (right click)
      document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
        return false;
      });

      // Prevent mouse clicks except for interactive elements
      document.addEventListener('mousedown', function(e) {
        if (!isAllowedElement(e.target) && e.button !== 0) {
          e.preventDefault();
          return false;
        }
      });

      // Prevent keyboard shortcuts and restrict search field input
      document.addEventListener('keydown', function(e) {
        // Handle search field input restrictions
        if (isSearchField(e.target)) {
          // Only allow letters, numbers, Shift, and Backspace in the search field
          const isLetter = /^[a-zA-Z]$/.test(e.key);
          const isNumber = /^[0-9]$/.test(e.key);
          const isShift = e.key === 'Shift';
          const isBackspace = e.key === 'Backspace';
          
          // Block all other keys including any key combinations
          if (!(isLetter || isNumber || isShift || isBackspace) || e.ctrlKey || e.altKey || e.metaKey) {
            e.preventDefault();
            return false;
          }
          
          return true;
        }

        // Block common keyboard shortcuts for non-search elements
        if (
          // Ctrl+S (Save), Ctrl+P (Print), Ctrl+Shift+I (Inspect), F12 (Dev Tools)
          (e.ctrlKey && (e.key === 's' || e.key === 'p' || (e.shiftKey && e.key === 'i'))) ||
          e.key === 'F12' || e.key === 'F11' || e.key === 'F10' || e.key === 'F9' || e.key === 'F8' ||
          e.key === 'F7' || e.key === 'F6' || e.key === 'F5' || e.key === 'F4' || e.key === 'F3' ||
          e.key === 'F2' || e.key === 'F1' ||
          // Ctrl+C (Copy), Ctrl+V (Paste), Ctrl+X (Cut)
          (e.ctrlKey && (e.key === 'c' || e.key === 'v' || e.key === 'x')) ||
          // Ctrl+U (View Source)
          (e.ctrlKey && e.key === 'u') ||
          // PrintScreen
          e.key === 'PrintScreen' ||
          // Other keys that should be blocked
          e.key === 'Tab' || e.key === 'Enter' || e.key === 'Escape' || e.key === ' ' ||
          e.key === 'ArrowLeft' || e.key === 'ArrowRight' || e.key === 'ArrowUp' || e.key === 'ArrowDown' ||
          e.key === 'Home' || e.key === 'End' || e.key === 'PageUp' || e.key === 'PageDown' ||
          e.key === 'Delete' || e.key === 'Insert'
        ) {
          // Allow Escape key when in fullscreen mode
          if (e.key === 'Escape' && isFullscreen) {
            return true;
          }
          
          e.preventDefault();
          return false;
        }
      });

      // Prevent copy/paste/cut
      document.addEventListener('copy', function(e) {
        e.preventDefault();
        return false;
      });

      document.addEventListener('paste', function(e) {
        e.preventDefault();
        return false;
      });

      document.addEventListener('cut', function(e) {
        e.preventDefault();
        return false;
      });

      // Prevent drag and drop
      document.addEventListener('dragstart', function(e) {
        e.preventDefault();
        return false;
      });

      // Prevent selection
      document.addEventListener('selectstart', function(e) {
        if (!isSearchField(e.target)) {
          e.preventDefault();
          return false;
        }
      });

      // Detect screenshot attempts (limited capability)
      document.addEventListener('keyup', function(e) {
        if (e.key === 'PrintScreen') {
          alert('Screenshots are not allowed on this site.');
        }
      });
      
      // Prevent mouse events in search field except for focus
      searchInput.addEventListener('mousedown', function(e) {
        // Allow focusing the input but prevent other mouse actions
        if (document.activeElement !== searchInput) {
          // Allow the focus action to happen
          return true;
        }
        e.preventDefault();
        return false;
      });
      
      // Prevent default behavior for all other mouse events on search field
      searchInput.addEventListener('click', function(e) {
        e.preventDefault();
        return false;
      });
      
      searchInput.addEventListener('dblclick', function(e) {
        e.preventDefault();
        return false;
      });
      
      // Prevent right-click on search field
      searchInput.addEventListener('contextmenu', function(e) {
        e.preventDefault();
        return false;
      });
      
      // Prevent mouse wheel on search field
      searchInput.addEventListener('wheel', function(e) {
        if (document.activeElement === searchInput) {
          e.preventDefault();
          return false;
        }
      });
      
      // Prevent selection in search field
      searchInput.addEventListener('select', function(e) {
        e.preventDefault();
        return false;
      });
      
      // Prevent drag in search field
      searchInput.addEventListener('drag', function(e) {
        e.preventDefault();
        return false;
      });
      
      // Prevent drop in search field
      searchInput.addEventListener('drop', function(e) {
        e.preventDefault();
        return false;
      });
    }

    // Check if element is a search field or its child
    function isSearchField(element) {
      if (!element) return false;
      
      // Check if element is the search input
      if (element === searchInput) return true;
      
      return false;
    }

    // Check if element is allowed to be clicked
    function isAllowedElement(element) {
      if (!element) return false;
      
      // Allow clicks on buttons, links, and their children (but not search input)
      const allowedTags = ['BUTTON', 'A'];
      if (allowedTags.includes(element.tagName)) return true;
      
      // Special case for search input - only allow focus
      if (element === searchInput) {
        return true;
      }
      
      // Special case for mobile exit fullscreen button
      if (element === mobileExitFullscreenBtn || mobileExitFullscreenBtn.contains(element)) {
        return true;
      }
      
      // Check if element is inside an allowed element
      let parent = element.parentElement;
      while (parent) {
        if (allowedTags.includes(parent.tagName)) return true;
        parent = parent.parentElement;
      }
      
      return false;
    }

    // Function to check if an update is new (within the last 3 days)
    function isNewUpdate(updateDate) {
      // If we have a timestamp object, use it directly
      if (updateDate instanceof Date) {
        const currentDate = new Date();
        const diffTime = Math.abs(currentDate - updateDate);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        return diffDays <= 3;
      }
      
      // For string dates, try to parse them
      const armenianMonths = {
        'Հունվար': 0, 'Փետրվար': 1, 'Մարտ': 2, 'Ապրիլ': 3, 'Մայիս': 4, 'Հունիս': 5,
        'Հուլիս': 6, 'Օգոստոս': 7, 'Սեպտեմբեր': 8, 'Հոկտեմբեր': 9, 'Նոյեմբեր': 10, 'Դեկտեմբեր': 11
      };

      // Try to parse Armenian date format (e.g., "3 Ապրիլ 2025")
      const dateRegex = /(\d+)\s+(\w+)\s+(\d{4})/;
      const match = updateDate.match(dateRegex);

      if (match) {
        const day = parseInt(match[1]);
        const monthName = match[2];
        const year = parseInt(match[3]);

        if (armenianMonths.hasOwnProperty(monthName)) {
          const month = armenianMonths[monthName];
          const parsedDate = new Date(year, month, day);
          const currentDate = new Date();
          
          // Calculate the difference in days
          const diffTime = Math.abs(currentDate - parsedDate);
          const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
          
          return diffDays <= 3;
        }
      }

      // Fallback for other date formats
      try {
        const parsedDate = new Date(updateDate);
        if (!isNaN(parsedDate.getTime())) {
          const currentDate = new Date();
          const diffTime = Math.abs(currentDate - parsedDate);
          const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
          return diffDays <= 3;
        }
      } catch (e) {
        // If parsing fails, assume it's not new
        return false;
      }

      return false;
    }

    // Function to check if there are any new updates
    function hasNewUpdates() {
      return updates.some(update => isNewUpdate(update.timestamp || update.date));
    }

    // Toggle fullscreen
    function toggleFullscreen(card) {
      if (!isFullscreen) {
        // Enter fullscreen
        if (card.requestFullscreen) {
          card.requestFullscreen().catch(err => {
            console.error(`Error attempting to enable fullscreen: ${err.message}`);
          });
        } else if (card.webkitRequestFullscreen) { /* Safari */
          card.webkitRequestFullscreen();
        } else if (card.msRequestFullscreen) { /* IE11 */
          card.msRequestFullscreen();
        }
        
        card.classList.add('fullscreen');
        isFullscreen = true;
        currentCard = card;
        
        // Show mobile exit button
        mobileExitFullscreenBtn.style.display = 'flex';
      } else {
        // Exit fullscreen
        exitFullscreen();
      }
    }

    // Exit fullscreen function
    function exitFullscreen() {
      if (document.exitFullscreen) {
        document.exitFullscreen().catch(err => {
          console.error(`Error attempting to exit fullscreen: ${err.message}`);
        });
      } else if (document.webkitExitFullscreen) { /* Safari */
        document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) { /* IE11 */
        document.msExitFullscreen();
      }
      
      if (currentCard) {
        currentCard.classList.remove('fullscreen');
      }
      
      isFullscreen = false;
      
      // Hide mobile exit button
      mobileExitFullscreenBtn.style.display = 'none';
    }

    // Handle fullscreen change
    document.addEventListener('fullscreenchange', () => {
      if (!document.fullscreenElement) {
        if (currentCard) {
          currentCard.classList.remove('fullscreen');
        }
        isFullscreen = false;
        
        // Hide mobile exit button
        mobileExitFullscreenBtn.style.display = 'none';
      }
    });

    // Add event listener to mobile exit fullscreen button
    mobileExitFullscreenBtn.addEventListener('click', exitFullscreen);

    // Search functionality
    function handleSearch() {
      const searchTerm = searchInput.value.toLowerCase().trim();
      
      if (searchTerm === '') {
        filteredPosts = [...posts];
      } else {
        filteredPosts = posts.filter(post => 
          post.title.toLowerCase().includes(searchTerm)
        );
      }
      
      currentPage = 1;
      renderPagination();
      
      if (filteredPosts.length > 0) {
        renderCard(filteredPosts[0]);
      } else {
        cardContainer.innerHTML = '<div class="text-center py-8">Որոնման արդյունքում ոչինչ չի գտնվել։</div>';
      }
    }

    // Add event listener to search input
    if (searchInput) {
      searchInput.addEventListener('input', handleSearch);
    }

    // Show page
    function showPage(pageName) {
      // Update navigation links
      homeLink.className = pageName === 'home' ? 'text-gray-900 font-bold' : 'text-gray-700 hover:text-gray-900';
      updatesLink.className = pageName === 'updates' ? 'text-gray-900 font-bold' : 'text-gray-700 hover:text-gray-900';
      
      // Show/hide pages
      homePage.className = pageName === 'home' ? 'page-content active' : 'page-content';
      updatesPage.className = pageName === 'updates' ? 'page-content active' : 'page-content';
      
      // Show/hide search
      searchContainer.style.display = pageName === 'home' ? 'flex' : 'none';
      
      // Render content
      if (pageName === 'home') {
        if (filteredPosts.length > 0) {
          renderCard(filteredPosts[currentPage - 1]);
          renderPagination();
        }
      } else if (pageName === 'updates') {
        renderUpdates();
        renderUpdatesPagination();
      }
    }

    // Render card
    function renderCard(post) {
      const card = document.createElement('div');
      card.className = 'card';
      
      // Create card header
      const cardHeader = `
        <div class="card-header">
          <div class="card-title-container">
            <h2 class="card-title text-xl md:text-2xl">${post.title}</h2>
          </div>
          <button class="fullscreen-btn" id="fullscreen-btn" title="Toggle fullscreen">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
            </svg>
          </button>
        </div>
        <div class="card-image-container">
          <img src="${post.image}" alt="${post.title}" class="card-image">
        </div>
      `;
      
      // Generate paragraphs dynamically
      let paragraphs = '';
      let paragraphCount = 1;
      
      // Check for paragraphs in the post object and add them in order
      while (post[`paragraph${paragraphCount}`]) {
        paragraphs += `<p class="card-paragraph text-base md:text-lg">${post[`paragraph${paragraphCount}`]}</p>`;
        paragraphCount++;
      }
      
      // Create card content
      const cardContent = `
        <div class="card-content">
          <div class="card-content-expanded" id="content-${post.id}">
            <h3 class="card-content-title text-lg md:text-xl">${post.contentTitle}</h3>
            ${paragraphs}
          </div>
        </div>
      `;
      
      // Create card footer
      const cardFooter = `
        <div class="card-footer">
          <button class="btn btn-outline expand-btn" data-id="${post.id}">
            <span class="expand-text">Ավելի շատ</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="expand-icon">
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </button>
        </div>
      `;
      
      // Combine all parts
      card.innerHTML = cardHeader + cardContent + cardFooter;
      
      cardContainer.innerHTML = '';
      cardContainer.appendChild(card);
      
      // Add event listener to expand button
      const expandBtn = card.querySelector('.expand-btn');
      const contentEl = document.getElementById(`content-${post.id}`);
      const expandText = expandBtn.querySelector('.expand-text');
      const expandIcon = expandBtn.querySelector('.expand-icon');
      
      expandBtn.addEventListener('click', () => {
        const isExpanded = contentEl.classList.contains('expanded');
        
        if (isExpanded) {
          contentEl.classList.remove('expanded');
          expandText.textContent = 'Ավելի շատ';
          expandIcon.innerHTML = '<polyline points="6 9 12 15 18 9"></polyline>';
        } else {
          contentEl.classList.add('expanded');
          expandText.textContent = 'Ավելի քիչ';
          expandIcon.innerHTML = '<polyline points="18 15 12 9 6 15"></polyline>';
        }
      });

      // Add event listener to fullscreen button
      const fullscreenBtn = card.querySelector('#fullscreen-btn');
      fullscreenBtn.addEventListener('click', () => {
        toggleFullscreen(card);
      });
    }

    // Render pagination
    function renderPagination() {
      paginationContainer.innerHTML = '';
      
      if (filteredPosts.length === 0) return;
      
      const totalFilteredPages = Math.ceil(filteredPosts.length / postsPerPage);
      
      // Previous button
      const prevBtn = document.createElement('button');
      prevBtn.className = 'pagination-btn pagination-btn-outline';
      prevBtn.disabled = currentPage === 1;
      prevBtn.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      `;
      prevBtn.addEventListener('click', () => {
        if (currentPage > 1) {
          changePage(currentPage - 1);
        }
      });
      paginationContainer.appendChild(prevBtn);
      
      // Page numbers
      const maxVisiblePages = 5;
      let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
      let endPage = Math.min(totalFilteredPages, startPage + maxVisiblePages - 1);
      
      if (endPage - startPage + 1 < maxVisiblePages) {
        startPage = Math.max(1, endPage - maxVisiblePages + 1);
      }
      
      for (let i = startPage; i <= endPage; i++) {
        const pageBtn = document.createElement('button');
        pageBtn.className = `pagination-btn ${i === currentPage ? 'pagination-btn-active' : 'pagination-btn-outline'}`;
        pageBtn.textContent = i;
        pageBtn.addEventListener('click', () => changePage(i));
        paginationContainer.appendChild(pageBtn);
      }
      
      // Next button
      const nextBtn = document.createElement('button');
      nextBtn.className = 'pagination-btn pagination-btn-outline';
      nextBtn.disabled = currentPage === totalFilteredPages;
      nextBtn.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      `;
      nextBtn.addEventListener('click', () => {
        if (currentPage < totalFilteredPages) {
          changePage(currentPage + 1);
        }
      });
      paginationContainer.appendChild(nextBtn);
    }

    // Render updates pagination
    function renderUpdatesPagination() {
      updatesPaginationContainer.innerHTML = '';
      
      if (updates.length <= updatesPerPage) return;
      
      // Previous button
      const prevBtn = document.createElement('button');
      prevBtn.className = 'pagination-btn pagination-btn-outline';
      prevBtn.disabled = currentUpdatesPage === 1;
      prevBtn.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      `;
      prevBtn.addEventListener('click', () => {
        if (currentUpdatesPage > 1) {
          changeUpdatesPage(currentUpdatesPage - 1);
        }
      });
      updatesPaginationContainer.appendChild(prevBtn);
      
      // Page numbers
      const maxVisiblePages = 5;
      let startPage = Math.max(1, currentUpdatesPage - Math.floor(maxVisiblePages / 2));
      let endPage = Math.min(totalUpdatesPages, startPage + maxVisiblePages - 1);
      
      if (endPage - startPage + 1 < maxVisiblePages) {
        startPage = Math.max(1, endPage - maxVisiblePages + 1);
      }
      
      for (let i = startPage; i <= endPage; i++) {
        const pageBtn = document.createElement('button');
        pageBtn.className = `pagination-btn ${i === currentUpdatesPage ? 'pagination-btn-active' : 'pagination-btn-outline'}`;
        pageBtn.textContent = i;
        pageBtn.addEventListener('click', () => changeUpdatesPage(i));
        updatesPaginationContainer.appendChild(pageBtn);
      }
      
      // Next button
      const nextBtn = document.createElement('button');
      nextBtn.className = 'pagination-btn pagination-btn-outline';
      nextBtn.disabled = currentUpdatesPage === totalUpdatesPages;
      nextBtn.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      `;
      nextBtn.addEventListener('click', () => {
        if (currentUpdatesPage < totalUpdatesPages) {
          changeUpdatesPage(currentUpdatesPage + 1);
        }
      });
      updatesPaginationContainer.appendChild(nextBtn);
    }

    // Change page
    function changePage(page) {
      currentPage = page;
      const currentPost = filteredPosts[currentPage - 1];
      
      renderCard(currentPost);
      renderPagination();
    }

    // Change updates page
    function changeUpdatesPage(page) {
      currentUpdatesPage = page;
      renderUpdates();
      renderUpdatesPagination();
    }

    // Render updates with the "New" label and pagination
    function renderUpdates() {
      if (!updatesContainer) return;
      
      updatesContainer.innerHTML = '';
      
      // Sort updates by date (newest first)
      const sortedUpdates = [...updates].sort((a, b) => {
        const dateA = a.timestamp || new Date(a.date);
        const dateB = b.timestamp || new Date(b.date);
        return dateB - dateA;
      });
      
      // Get current page updates
      const startIndex = (currentUpdatesPage - 1) * updatesPerPage;
      const endIndex = Math.min(startIndex + updatesPerPage, sortedUpdates.length);
      const currentUpdates = sortedUpdates.slice(startIndex, endIndex);
      
      currentUpdates.forEach(update => {
        const updateCard = document.createElement('div');
        updateCard.className = 'update-card';
        
        // Check if the update is new (within the last 3 days)
        const isNew = isNewUpdate(update.timestamp || update.date);
        
        updateCard.innerHTML = `
          ${isNew ? '<span class="new-label">Նոր</span>' : ''}
          <h3 class="update-title text-lg md:text-xl">${update.title}</h3>
          <p class="update-date text-sm md:text-base">${update.date}</p>
          <div class="update-content">
            <p class="text-base md:text-lg">${update.content}</p>
          </div>
        `;
        
        updatesContainer.appendChild(updateCard);
      });
    }

    // Update bell icon animation based on new updates
    function updateBellIcon() {
      if (hasNewUpdates()) {
        bellIcon.classList.add('animate');
      } else {
        bellIcon.classList.remove('animate');
      }
    }

    // Initialize
    function init() {
      // Initialize content protection
      initContentProtection();
      
      // Initialize cards
      filteredPosts = [...posts];
      const currentPost = filteredPosts[currentPage - 1];
      renderCard(currentPost);
      renderPagination();
      
      // Prepare updates page
      renderUpdates();
      renderUpdatesPagination();
      
      // Update bell icon
      updateBellIcon();
    }

    // Start the application
    init();
  </script>
</body>
</html>
